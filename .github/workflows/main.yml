name: Trigger action

on:
  workflow_dispatch:

jobs:
  echo:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Run index.js
        run: echo "Print print <====> printed"

  fail:
    needs: [echo]
    runs-on: ubuntu-22.04
    steps:
      - name: errored
        run: exit 1
      - name: Print message if we not failed
        run: echo "Should not get here"

  retry:
    needs: [fail]
    runs-on: ubuntu-22.04
    steps:
      - uses: Wandalen/wretry.action@master
        with:
          action: PedroBonorin0/ci_explorer/.github/workflows/main.yml@master
          with: |
            pre_retry_command: echo "retrying RETRY RETRY"
            # github_token: $TOKEN
